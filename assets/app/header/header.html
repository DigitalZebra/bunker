<nav class="navbar navbar-default navbar-fixed-top navbar-background" role="navigation"
		 ng-controller="HeaderController as header">
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="navbar-brand" ui-sref="lobby">Bunker</a>
		</div>
		<ul class="nav navbar-nav hidden-xs">
			<li ui-sref-active="active" ng-repeat="membership in header.memberships">
				<a ui-sref="chat.room({roomId: membership.room.id})" title="{{membership.room.topic}}">{{membership.room.name}}</a>
				<span class="badge" ng-show="membership.room.$unreadMessages > 0">{{membership.room.$unreadMessages}}</span>
			</li>
		</ul>
		<ul class="nav navbar-nav navbar-right hidden-xs" ng-show="header.showOptions()">
			<li ng-class="{active: header.emoticonMenu}">
				<a ng-click="header.emoticonMenu = !header.emoticonMenu">
					<img src="/assets/images/emoticons/allthethings.png"/>
				</a>
			</li>
			<li class="dropdown">
				<a href class="dropdown-toggle small-width"><i class="fa fa-cog fa-lg"></i></a>
				<ul class="dropdown-menu" role="menu">
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="header.changeSetting('showImages')">
							<i class="fa {{header.settings.showImages ? 'fa-check-square-o' : 'fa-square-o'}}"></i> Show Images
						</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="header.changeSetting('showNotifications')">
							<i class="fa {{header.settings.showNotifications ? 'fa-check-square-o' : 'fa-square-o'}}"></i> Show
							Notifications
						</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="header.changeSetting('minimalView')">
							<i class="fa {{header.settings.minimalView ? 'fa-check-square-o' : 'fa-square-o'}}"></i> Minimalist UI
						</a>
					</li>
					<li role="presentation" class="divider"></li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="header.showHelp()">
							<i class="fa fa-question"></i> Help
						</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="header.leaveRoom()">
							<i class="fa fa-thumbs-down"></i> Leave room
						</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" href="/logout">
							<i class="fa fa-sign-out"></i> Log out
						</a>
					</li>
				</ul>
			</li>
		</ul>
	</div>

	<div ng-show="header.emoticonMenu" emoticon-menu>
	</div>
</nav>
