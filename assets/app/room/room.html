<div class="container-fluid">
	<div class="row">
		<div class="col-md-10 col-xs-12 no-gutter" ng-controller="MessageLogController as log">
			<ol class="list-unstyled message-list" fill auto-scroll margin-bottom="34">
				<li class="message" ng-repeat="message in log.messages">
					<div class="bg-info message-author pull-left">
						<div ng-if="log.messages[$index-1].author.id != message.author.id">
							<img gravatar-src-once="message.author.email | lowercase" gravatar-size="20"/>
							{{message.author.nick}}
						</div>
					</div>
					<div class="message-text" bunker-message="{{message.text}}">
					</div>
					<div class="message-timestamp text-muted">
						<small>{{message.createdAt | timestamp}}</small>
					</div>
				</li>
			</ol>
		</div>
		<div class="col-md-2 hidden-xs">
			<ul class="list-group">
				<li class="list-group-item" ng-repeat="member in room.room.members | filter:{connected:true}">
					<img gravatar-src-once="member.email | lowercase" gravatar-size="20"/>
					{{member.nick}}
				</li>
			</ul>
		</div>
	</div>
</div>

<div class="container-fluid message-input" ng-controller="InputController as input">
	<div class="row">
		<form class="col-md-10 no-gutter" ng-submit="input.sendMessage()">
			<div class="input-group">
				<input type="text" class="form-control" ng-model="input.messageText"/>
					<span class="input-group-btn">
							<button type="submit" class="btn btn-success">Send</button>
					</span>
			</div>
		</form>
	</div>
</div>
